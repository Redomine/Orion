


<script src="https://cdn.socket.io/socket.io-1.4.5.js"></script>



<div id="gameDiv">
    <canvas id="ctx" width="800" height="800" style="border:1px solid #000000;"></canvas>
</div>

<script>
	var gameField = document.getElementById("ctx");
    var ctx = document.getElementById("ctx").getContext("2d");
	var socket = io();

	gameField.addEventListener('mousedown' ,onDown, false);

	var img = {};
	img.space = new Image();
	img.space.src = 'client/img/space.png';

	ctx.font = '12px Arial';
	ctx.fillStyle = "white";
    socket.on('render_map', function(data){
		ctx.clearRect(0,0,800,800);
		ctx.drawImage(img.space,0,0);
		for (i in data.star_systems) {
			img.star = new Image();
			img.star.src = data.star_systems[i][2];	
			ctx.drawImage(img.star,data.star_systems[i][3],data.star_systems[i][4]);	
			ctx.fillText(data.star_systems[i][1], data.star_systems[i][3],data.star_systems[i][4]+30);
		}
	})

	function onDown(event) {
		cx = event.pageX;
		cy = event.pageY;
		console.log(cx);
		console.log(cy);
	}
	
</script>